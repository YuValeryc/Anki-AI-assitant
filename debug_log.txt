[14:18:35] Initializing GeminiChatBot...
[14:18:35] Configuration loaded successfully
[14:18:35] Menu setup completed
[14:18:35] PyCmd handlers registered
[14:18:35] Registered 4 hooks
[14:18:35] GeminiChatBot initialized successfully
[14:18:35] State change: startup → deckBrowser
[14:18:41] PyCmd received: open:1726415621825
[14:18:41] State change: deckBrowser → overview
[14:18:42] PyCmd received: study
[14:18:42] State change: overview → review
[14:18:42] === on_show_question TRIGGERED ===
[14:18:42] Card ID: 1649001543818
Deck ID: 1726415621825
Note ID: 1649001543672
Fields: ['ID', 'Word', 'Synonyms', 'Antonyms', 'Img1', 'PoS1', 'Def1', 'VNDef1', 'Ex1', 'SoundEx1', 'Phones1', 'VNTrans1', 'Img2', 'PoS2', 'Def2', 'VNDef2', 'Ex2', 'SoundEx2', 'Phones2', 'VNTrans2', 'Img3', 'PoS3', 'Def3', 'VNDef3', 'Ex3', 'SoundEx3', 'Phones3', 'VNTrans3', 'Img4', 'PoS4', 'Def4', 'VNDef4', 'Ex4', 'SoundEx4', 'Phones4', 'VNTrans4', 'Img5', 'PoS5', 'Def5', 'VNDef5', 'Ex5', 'SoundEx5', 'Phones5', 'VNTrans5', 'Img6', 'PoS6', 'Def6', 'VNDef6', 'Ex6', 'SoundEx6', 'Phones6', 'VNTrans6', 'Sound', 'Hint', 'Phonetics', 'Collocations', 'Formations', 'Unit', 'Topic', 'LacViet']
Front: B1_VOCAB_06_031...
[14:18:42] Cleaned up injected chat UI elements.
[14:18:42] Showing button for: B1_VOCAB_06_031...
[14:18:42] ChatBot button injected successfully
[14:18:43] PyCmd received: updateToolbar
[14:18:58] PyCmd received: gemini_chat_open
[14:18:58] Opening chat window...
[14:18:58] Initializing injected ChatWindow...
[14:18:58] PyCmd handlers registered
[14:18:58] Injected chat UI successfully
[14:18:58] Chat window injected/shown successfully
[14:18:58] Bridge command received: gemini_chat_open
[14:18:58] Added message: [bot] Chào bạn, tôi là Gemini ChatBot. Tôi có thể giúp g...
[14:19:10] PyCmd received: gemini_chat_close
[14:19:10] Bridge command received: gemini_chat_close
[14:19:10] Has reviewer web: True
[14:19:10] Has mw.web: True
[14:19:10] Chat window hidden instantly via bridge command.
[14:19:20] PyCmd received: ans
[14:19:20] Bridge command received: ans
[14:19:22] PyCmd received: updateToolbar
[14:19:22] Bridge command received: updateToolbar
[14:19:23] === on_show_question TRIGGERED ===
[14:19:23] Card ID: 1649256485001
Deck ID: 1726415621825
Note ID: 1649001543679
Fields: ['ID', 'Word', 'Synonyms', 'Antonyms', 'Img1', 'PoS1', 'Def1', 'VNDef1', 'Ex1', 'SoundEx1', 'Phones1', 'VNTrans1', 'Img2', 'PoS2', 'Def2', 'VNDef2', 'Ex2', 'SoundEx2', 'Phones2', 'VNTrans2', 'Img3', 'PoS3', 'Def3', 'VNDef3', 'Ex3', 'SoundEx3', 'Phones3', 'VNTrans3', 'Img4', 'PoS4', 'Def4', 'VNDef4', 'Ex4', 'SoundEx4', 'Phones4', 'VNTrans4', 'Img5', 'PoS5', 'Def5', 'VNDef5', 'Ex5', 'SoundEx5', 'Phones5', 'VNTrans5', 'Img6', 'PoS6', 'Def6', 'VNDef6', 'Ex6', 'SoundEx6', 'Phones6', 'VNTrans6', 'Sound', 'Hint', 'Phonetics', 'Collocations', 'Formations', 'Unit', 'Topic', 'LacViet']
Front: B1_VOCAB_06_038...
[14:19:23] Cleaned up injected chat UI elements.
[14:19:23] Showing button for: B1_VOCAB_06_038...
[14:19:23] ChatBot button injected successfully
[14:19:23] PyCmd received: updateToolbar
[14:19:23] Bridge command received: updateToolbar
[14:19:24] PyCmd received: gemini_chat_open
[14:19:24] Opening chat window...
[14:19:24] Injected chat UI successfully
[14:19:24] Chat window injected/shown successfully
[14:19:24] Bridge command received: gemini_chat_open
[14:19:24] Added message: [bot] Chào bạn, tôi là Gemini ChatBot. Tôi có thể giúp g...
[14:19:29] PyCmd received: gemini_chat_send_message
[14:19:29] Bridge command received: gemini_chat_send_message
[14:19:29] Added message: [user] chào bạn...
[14:19:29] Showing typing indicator.
[14:19:29] Calling Gemini API...
[14:19:30] Response: 200 - {
  "candidates": [
    {
      "content": {
        "parts": [
          {
            "text": "Chào bạn! Rất vui được trò chuyện với bạn. Bạn có khỏe không? Tôi có thể giúp gì cho bạn hôm nay?\n"
          }
        ],
        "role": "model"
      },
      "finishReason": "STOP",
      "avgLogprobs": -0.079213808322774956
    }
  ],
  "usageMetadata": {
    "promptTokenCount": 3,
    "candidatesTokenCount": 29,
    "totalTokenCount": 32,
    "promptTokensDetails": [
      {
        "modality": "TEXT",
        "tokenCount": 3
      }
    ],
    "candidatesTokensDetails": [
      {
        "modality": "TEXT",
        "tokenCount": 29
      }
    ]
  },
  "modelVersion": "gemini-2.0-flash",
  "responseId": "BkwMacTSJNSbvr0PsPKwmQw"
}

[14:19:30] Gemini API call successful
[14:19:30] Hiding typing indicator.
[14:19:30] Added message: [bot] Chào bạn! Rất vui được trò chuyện với bạn. Bạn có ...
[14:19:32] PyCmd received: gemini_chat_close
[14:19:32] Bridge command received: gemini_chat_close
[14:19:32] Has reviewer web: True
[14:19:32] Has mw.web: True
[14:19:32] Chat window hidden instantly via bridge command.
[14:19:33] PyCmd received: gemini_chat_open
[14:19:33] Opening chat window...
[14:19:33] Injected chat UI successfully
[14:19:33] Chat window injected/shown successfully
[14:19:33] Bridge command received: gemini_chat_open
[14:19:34] PyCmd received: gemini_chat_close
[14:19:34] Bridge command received: gemini_chat_close
[14:19:34] Has reviewer web: True
[14:19:34] Has mw.web: True
[14:19:34] Chat window hidden instantly via bridge command.
[14:19:36] PyCmd received: ans
[14:19:36] Bridge command received: ans
[14:19:39] PyCmd received: ans
[14:19:39] Bridge command received: ans
[14:19:39] PyCmd received: ans
[14:19:39] Bridge command received: ans
[14:19:41] PyCmd received: ans
[14:19:41] Bridge command received: ans
[14:19:42] PyCmd received: ans
[14:19:42] Bridge command received: ans
[14:19:44] PyCmd received: ans
[14:19:44] Bridge command received: ans
[14:19:51] PyCmd received: ans
[14:19:51] Bridge command received: ans
[14:19:51] PyCmd received: updateToolbar
[14:19:51] Bridge command received: updateToolbar
[14:19:53] Cleaned up injected chat UI elements.
[14:19:53] Review ended - cleanup completed
[14:19:53] State change: review → overview
[14:19:53] Leaving review → cleaning UI
[14:19:53] Cleaned up injected chat UI elements.
[14:19:53] Has reviewer web: True
[14:19:53] Has mw.web: True
[14:19:53] Chat window hidden instantly via bridge command.
[14:19:55] State change: overview → deckBrowser
[14:19:57] PyCmd received: open:1726415621825
[14:19:57] Bridge command received: open:1726415621825
[14:19:57] PyCmd received: open:1726415621814
[14:19:57] Bridge command received: open:1726415621814
[14:19:58] PyCmd received: open:1726415621814
[14:19:58] Bridge command received: open:1726415621814
[14:19:59] PyCmd received: open:1726415621814
[14:19:59] Bridge command received: open:1726415621814
[14:19:59] PyCmd received: open:1726415621814
[14:19:59] Bridge command received: open:1726415621814
[14:20:02] PyCmd received: open:1726415621814
[14:20:02] Bridge command received: open:1726415621814
[14:20:02] PyCmd received: open:1726415621814
[14:20:02] Bridge command received: open:1726415621814
[14:22:02] PyCmd received: open:1726415621814
[14:22:02] Bridge command received: open:1726415621814
[14:22:03] PyCmd received: open:1726415621814
[14:22:03] Bridge command received: open:1726415621814
[14:22:03] PyCmd received: open:1726415621814
[14:22:03] Bridge command received: open:1726415621814
[14:22:03] PyCmd received: open:1726415621814
[14:22:03] Bridge command received: open:1726415621814
[14:22:03] PyCmd received: open:1726415621814
[14:22:03] Bridge command received: open:1726415621814
[14:22:04] PyCmd received: open:1726415621814
[14:22:04] Bridge command received: open:1726415621814
[14:22:12] PyCmd received: open:1726415621814
[14:22:12] Bridge command received: open:1726415621814
[14:22:13] PyCmd received: open:1726415621814
[14:22:13] Bridge command received: open:1726415621814
[14:22:13] PyCmd received: open:1726415621814
[14:22:13] Bridge command received: open:1726415621814
[14:24:24] Bridge command received: sync
[14:24:39] PyCmd received: open:1726415621814
[14:24:39] Bridge command received: open:1726415621814
[14:24:39] PyCmd received: open:1726415621814
[14:24:39] Bridge command received: open:1726415621814
[14:24:39] PyCmd received: open:1726415621814
[14:24:39] Bridge command received: open:1726415621814
[14:24:40] PyCmd received: open:1726415621814
[14:24:40] Bridge command received: open:1726415621814
[14:24:40] PyCmd received: open:1726415621814
[14:24:40] Bridge command received: open:1726415621814
[14:25:36] Cleaned up injected chat UI elements.
[14:25:36] Cleanup completed
[14:25:48] Initializing GeminiChatBot...
[14:25:48] Configuration loaded successfully
[14:25:48] Menu setup completed
[14:25:48] PyCmd handlers registered
[14:25:48] Registered 4 hooks
[14:25:48] GeminiChatBot initialized successfully
[14:25:48] State change: startup → deckBrowser
[14:25:55] PyCmd received: open:1726415621813
[14:25:55] State change: deckBrowser → overview
[14:25:57] PyCmd received: study
[14:25:57] State change: overview → review
[14:25:57] === on_show_question TRIGGERED ===
[14:25:57] Card ID: 1649001544721
Deck ID: 1726415621813
Note ID: 1649001544575
Fields: ['ID', 'Root_Word', 'Phrase', 'Hint', 'Phonetics', 'Def1', 'VNDef1', 'Ex1', 'VNEx1', 'Phones1', 'SoundEx1', 'Def2', 'VNDef2', 'Ex2', 'VNEx2', 'Phones2', 'SoundEx2', 'Def3', 'VNDef3', 'Ex3', 'VNEx3', 'Phones3', 'SoundEx3', 'Def4', 'VNDef4', 'Ex4', 'VNEx4', 'Phones4', 'SoundEx4', 'Def5', 'VNDef5', 'Ex5', 'VNEx5', 'Phones5', 'SoundEx5', 'Ex6', 'Def6', 'VNDef6', 'VNEx6', 'Phones6', 'SoundEx6', 'Sound', 'Extra']
Front: B1_PHR_095...
[14:25:57] Cleaned up injected chat UI elements.
[14:25:57] Showing button for: B1_PHR_095...
[14:25:57] ChatBot button injected successfully
[14:25:57] PyCmd received: updateToolbar
[14:25:58] PyCmd received: gemini_chat_open
[14:25:58] Opening chat window...
[14:25:58] Initializing injected ChatWindow...
[14:25:58] PyCmd handlers registered
[14:25:58] Injected chat UI successfully
[14:25:58] Chat window injected/shown successfully
[14:25:58] Bridge command received: gemini_chat_open
[14:25:58] Added message: [bot] Chào bạn, tôi là Gemini ChatBot. Tôi có thể giúp g...
[14:26:01] Cleaned up injected chat UI elements.
[14:26:01] Review ended - cleanup completed
[14:26:01] State change: review → deckBrowser
[14:26:01] Leaving review → cleaning UI
[14:26:01] Cleaned up injected chat UI elements.
[14:26:01] Has reviewer web: True
[14:26:01] Has mw.web: True
[14:26:01] Chat window hidden instantly via bridge command.
[14:26:01] Bridge command received: decks
[14:26:04] PyCmd received: open:1726415621814
[14:26:04] Bridge command received: open:1726415621814
[14:26:04] State change: deckBrowser → overview
[14:26:05] PyCmd received: study
[14:26:05] Bridge command received: study
[14:26:05] State change: overview → review
[14:26:05] === on_show_question TRIGGERED ===
[14:26:05] Card ID: 1649001544706
Deck ID: 1726415621814
Note ID: 1649001544560
Fields: ['ID', 'Root_Word', 'Phrase', 'Hint', 'Phonetics', 'Def1', 'VNDef1', 'Ex1', 'VNEx1', 'Phones1', 'SoundEx1', 'Def2', 'VNDef2', 'Ex2', 'VNEx2', 'Phones2', 'SoundEx2', 'Def3', 'VNDef3', 'Ex3', 'VNEx3', 'Phones3', 'SoundEx3', 'Def4', 'VNDef4', 'Ex4', 'VNEx4', 'Phones4', 'SoundEx4', 'Def5', 'VNDef5', 'Ex5', 'VNEx5', 'Phones5', 'SoundEx5', 'Ex6', 'Def6', 'VNDef6', 'VNEx6', 'Phones6', 'SoundEx6', 'Sound', 'Extra']
Front: B1_PHR_080...
[14:26:05] Cleaned up injected chat UI elements.
[14:26:05] Showing button for: B1_PHR_080...
[14:26:05] ChatBot button injected successfully
[14:26:05] PyCmd received: updateToolbar
[14:26:05] Bridge command received: updateToolbar
[14:26:07] PyCmd received: gemini_chat_open
[14:26:07] Opening chat window...
[14:26:07] Initializing injected ChatWindow...
[14:26:07] PyCmd handlers registered
[14:26:07] Injected chat UI successfully
[14:26:07] Chat window injected/shown successfully
[14:26:07] Bridge command received: gemini_chat_open
[14:26:07] Bridge command received: gemini_chat_open
[14:26:07] Added message: [bot] Chào bạn, tôi là Gemini ChatBot. Tôi có thể giúp g...
[14:26:08] PyCmd received: ans
[14:26:08] Bridge command received: ans
[14:26:08] Bridge command received: ans
[14:26:08] PyCmd received: updateToolbar
[14:26:08] Bridge command received: updateToolbar
[14:26:08] Bridge command received: updateToolbar
[14:26:09] PyCmd received: ease3
[14:26:09] Bridge command received: ease3
[14:26:09] Bridge command received: ease3
[14:26:09] Cleaned up injected chat UI elements.
[14:26:09] Review ended - cleanup completed
[14:26:09] State change: review → overview
[14:26:09] Leaving review → cleaning UI
[14:26:09] Cleaned up injected chat UI elements.
[14:26:09] Has reviewer web: True
[14:26:09] Has mw.web: True
[14:26:09] Chat window hidden instantly via bridge command.
[14:26:11] State change: overview → deckBrowser
[14:26:12] Bridge command received: decks
[14:26:12] Bridge command received: decks
[14:26:13] PyCmd received: open:1726415621813
[14:26:13] Bridge command received: open:1726415621813
[14:26:13] Bridge command received: open:1726415621813
[14:26:13] State change: deckBrowser → overview
[14:26:15] PyCmd received: study
[14:26:15] Bridge command received: study
[14:26:15] Bridge command received: study
[14:26:15] State change: overview → review
[14:26:15] === on_show_question TRIGGERED ===
[14:26:15] Card ID: 1649001544721
Deck ID: 1726415621813
Note ID: 1649001544575
Fields: ['ID', 'Root_Word', 'Phrase', 'Hint', 'Phonetics', 'Def1', 'VNDef1', 'Ex1', 'VNEx1', 'Phones1', 'SoundEx1', 'Def2', 'VNDef2', 'Ex2', 'VNEx2', 'Phones2', 'SoundEx2', 'Def3', 'VNDef3', 'Ex3', 'VNEx3', 'Phones3', 'SoundEx3', 'Def4', 'VNDef4', 'Ex4', 'VNEx4', 'Phones4', 'SoundEx4', 'Def5', 'VNDef5', 'Ex5', 'VNEx5', 'Phones5', 'SoundEx5', 'Ex6', 'Def6', 'VNDef6', 'VNEx6', 'Phones6', 'SoundEx6', 'Sound', 'Extra']
Front: B1_PHR_095...
[14:26:15] Cleaned up injected chat UI elements.
[14:26:15] Showing button for: B1_PHR_095...
[14:26:15] ChatBot button injected successfully
[14:26:15] PyCmd received: updateToolbar
[14:26:15] Bridge command received: updateToolbar
[14:26:15] Bridge command received: updateToolbar
[14:26:16] PyCmd received: gemini_chat_open
[14:26:16] Opening chat window...
[14:26:16] Initializing injected ChatWindow...
[14:26:16] PyCmd handlers registered
[14:26:16] Injected chat UI successfully
[14:26:16] Chat window injected/shown successfully
[14:26:16] Bridge command received: gemini_chat_open
[14:26:16] Bridge command received: gemini_chat_open
[14:26:16] Bridge command received: gemini_chat_open
[14:26:16] Added message: [bot] Chào bạn, tôi là Gemini ChatBot. Tôi có thể giúp g...
[14:26:19] PyCmd received: gemini_chat_send_message
[14:26:19] Bridge command received: gemini_chat_send_message
[14:26:19] Bridge command received: gemini_chat_send_message
[14:26:19] Bridge command received: gemini_chat_send_message
[14:26:19] Added message: [user] chào bạn...
[14:26:19] Showing typing indicator.
[14:26:19] Calling Gemini API...
[14:26:20] Gemini API call successful
[14:26:20] Hiding typing indicator.
[14:26:20] Added message: [bot] Chào bạn! Mình có thể giúp gì cho bạn hôm nay?
...
[14:26:21] PyCmd received: ans
[14:26:21] Bridge command received: ans
[14:26:21] Bridge command received: ans
[14:26:21] Bridge command received: ans
[14:26:21] PyCmd received: updateToolbar
[14:26:21] Bridge command received: updateToolbar
[14:26:21] Bridge command received: updateToolbar
[14:26:21] Bridge command received: updateToolbar
[14:26:26] PyCmd received: gemini_chat_close
[14:26:26] Bridge command received: gemini_chat_close
[14:26:26] Has reviewer web: True
[14:26:26] Has mw.web: True
[14:26:26] Chat window hidden instantly via bridge command.
[14:26:26] Bridge command received: gemini_chat_close
[14:26:26] Has reviewer web: True
[14:26:26] Has mw.web: True
[14:26:26] Chat window hidden instantly via bridge command.
[14:26:26] Bridge command received: gemini_chat_close
[14:26:26] Has reviewer web: True
[14:26:26] Has mw.web: True
[14:26:26] Chat window hidden instantly via bridge command.
[14:26:27] PyCmd received: gemini_chat_open
[14:26:27] Opening chat window...
[14:26:27] Injected chat UI successfully
[14:26:27] Chat window injected/shown successfully
[14:26:27] Bridge command received: gemini_chat_open
[14:26:27] Bridge command received: gemini_chat_open
[14:26:27] Bridge command received: gemini_chat_open
[14:26:29] PyCmd received: gemini_chat_close
[14:26:29] Bridge command received: gemini_chat_close
[14:26:29] Has reviewer web: True
[14:26:29] Has mw.web: True
[14:26:29] Chat window hidden instantly via bridge command.
[14:26:29] Bridge command received: gemini_chat_close
[14:26:29] Has reviewer web: True
[14:26:29] Has mw.web: True
[14:26:29] Chat window hidden instantly via bridge command.
[14:26:29] Bridge command received: gemini_chat_close
[14:26:29] Has reviewer web: True
[14:26:29] Has mw.web: True
[14:26:29] Chat window hidden instantly via bridge command.
[14:26:32] PyCmd received: gemini_chat_open
[14:26:32] Opening chat window...
[14:26:32] Injected chat UI successfully
[14:26:32] Chat window injected/shown successfully
[14:26:32] Bridge command received: gemini_chat_open
[14:26:32] Bridge command received: gemini_chat_open
[14:26:32] Bridge command received: gemini_chat_open
[14:26:35] PyCmd received: gemini_chat_close
[14:26:35] Bridge command received: gemini_chat_close
[14:26:35] Has reviewer web: True
[14:26:35] Has mw.web: True
[14:26:35] Chat window hidden instantly via bridge command.
[14:26:35] Bridge command received: gemini_chat_close
[14:26:35] Has reviewer web: True
[14:26:35] Has mw.web: True
[14:26:35] Chat window hidden instantly via bridge command.
[14:26:35] Bridge command received: gemini_chat_close
[14:26:35] Has reviewer web: True
[14:26:35] Has mw.web: True
[14:26:35] Chat window hidden instantly via bridge command.
[14:26:37] Cleaned up injected chat UI elements.
[14:26:37] Review ended - cleanup completed
[14:26:37] State change: review → deckBrowser
[14:26:37] Leaving review → cleaning UI
[14:26:37] Cleaned up injected chat UI elements.
[14:26:37] Has reviewer web: True
[14:26:37] Has mw.web: True
[14:26:37] Chat window hidden instantly via bridge command.
[14:26:37] Bridge command received: decks
[14:26:37] Bridge command received: decks
[14:26:37] Bridge command received: decks
[14:26:40] Bridge command received: sync
[14:26:40] Bridge command received: sync
[14:26:40] Bridge command received: sync
[14:27:07] PyCmd received: open:1726415621813
[14:27:07] Bridge command received: open:1726415621813
[14:27:07] Bridge command received: open:1726415621813
[14:27:07] Bridge command received: open:1726415621813
[14:27:07] State change: deckBrowser → overview
[14:27:08] PyCmd received: study
[14:27:08] Bridge command received: study
[14:27:08] Bridge command received: study
[14:27:08] Bridge command received: study
[14:27:08] State change: overview → review
[14:27:08] === on_show_question TRIGGERED ===
[14:27:08] Card ID: 1649001544721
Deck ID: 1726415621813
Note ID: 1649001544575
Fields: ['ID', 'Root_Word', 'Phrase', 'Hint', 'Phonetics', 'Def1', 'VNDef1', 'Ex1', 'VNEx1', 'Phones1', 'SoundEx1', 'Def2', 'VNDef2', 'Ex2', 'VNEx2', 'Phones2', 'SoundEx2', 'Def3', 'VNDef3', 'Ex3', 'VNEx3', 'Phones3', 'SoundEx3', 'Def4', 'VNDef4', 'Ex4', 'VNEx4', 'Phones4', 'SoundEx4', 'Def5', 'VNDef5', 'Ex5', 'VNEx5', 'Phones5', 'SoundEx5', 'Ex6', 'Def6', 'VNDef6', 'VNEx6', 'Phones6', 'SoundEx6', 'Sound', 'Extra']
Front: B1_PHR_095...
[14:27:08] Cleaned up injected chat UI elements.
[14:27:08] Showing button for: B1_PHR_095...
[14:27:08] ChatBot button injected successfully
[14:27:08] PyCmd received: updateToolbar
[14:27:08] Bridge command received: updateToolbar
[14:27:08] Bridge command received: updateToolbar
[14:27:08] Bridge command received: updateToolbar
[14:27:10] PyCmd received: ans
[14:27:10] Bridge command received: ans
[14:27:10] Bridge command received: ans
[14:27:10] Bridge command received: ans
[14:27:10] PyCmd received: updateToolbar
[14:27:10] Bridge command received: updateToolbar
[14:27:10] Bridge command received: updateToolbar
[14:27:10] Bridge command received: updateToolbar
[14:28:28] Cleaned up injected chat UI elements.
[14:28:28] Review ended - cleanup completed
[14:28:28] State change: review → deckBrowser
[14:28:28] Leaving review → cleaning UI
[14:28:28] Cleaned up injected chat UI elements.
[14:28:29] Bridge command received: decks
[14:28:29] Bridge command received: decks
[14:28:29] Bridge command received: decks
[14:29:01] Configuration saved
[14:29:06] PyCmd received: open:1726415621813
[14:29:06] Bridge command received: open:1726415621813
[14:29:06] Bridge command received: open:1726415621813
[14:29:06] Bridge command received: open:1726415621813
[14:29:06] State change: deckBrowser → overview
[14:29:07] PyCmd received: study
[14:29:07] Bridge command received: study
[14:29:07] Bridge command received: study
[14:29:07] Bridge command received: study
[14:29:07] State change: overview → review
[14:29:07] === on_show_question TRIGGERED ===
[14:29:07] Card ID: 1649001544721
Deck ID: 1726415621813
Note ID: 1649001544575
Fields: ['ID', 'Root_Word', 'Phrase', 'Hint', 'Phonetics', 'Def1', 'VNDef1', 'Ex1', 'VNEx1', 'Phones1', 'SoundEx1', 'Def2', 'VNDef2', 'Ex2', 'VNEx2', 'Phones2', 'SoundEx2', 'Def3', 'VNDef3', 'Ex3', 'VNEx3', 'Phones3', 'SoundEx3', 'Def4', 'VNDef4', 'Ex4', 'VNEx4', 'Phones4', 'SoundEx4', 'Def5', 'VNDef5', 'Ex5', 'VNEx5', 'Phones5', 'SoundEx5', 'Ex6', 'Def6', 'VNDef6', 'VNEx6', 'Phones6', 'SoundEx6', 'Sound', 'Extra']
Front: B1_PHR_095...
[14:29:07] Cleaned up injected chat UI elements.
[14:29:07] Showing button for: B1_PHR_095...
[14:29:07] ChatBot button injected successfully
[14:29:07] PyCmd received: updateToolbar
[14:29:07] Bridge command received: updateToolbar
[14:29:07] Bridge command received: updateToolbar
[14:29:07] Bridge command received: updateToolbar
[14:29:58] Cleaned up injected chat UI elements.
[14:29:58] Cleanup completed
[14:30:13] Initializing GeminiChatBot...
[14:30:13] Configuration loaded successfully
[14:30:13] Menu setup completed
[14:30:13] PyCmd handlers registered
[14:30:13] Registered 4 hooks
[14:30:13] GeminiChatBot initialized successfully
[14:30:13] State change: startup → deckBrowser
[14:30:27] PyCmd received: open:1726415621813
[14:30:27] State change: deckBrowser → overview
[14:30:28] PyCmd received: study
[14:30:28] State change: overview → review
[14:30:28] === on_show_question TRIGGERED ===
[14:30:28] Card ID: 1649001544721
Deck ID: 1726415621813
Note ID: 1649001544575
Fields: ['ID', 'Root_Word', 'Phrase', 'Hint', 'Phonetics', 'Def1', 'VNDef1', 'Ex1', 'VNEx1', 'Phones1', 'SoundEx1', 'Def2', 'VNDef2', 'Ex2', 'VNEx2', 'Phones2', 'SoundEx2', 'Def3', 'VNDef3', 'Ex3', 'VNEx3', 'Phones3', 'SoundEx3', 'Def4', 'VNDef4', 'Ex4', 'VNEx4', 'Phones4', 'SoundEx4', 'Def5', 'VNDef5', 'Ex5', 'VNEx5', 'Phones5', 'SoundEx5', 'Ex6', 'Def6', 'VNDef6', 'VNEx6', 'Phones6', 'SoundEx6', 'Sound', 'Extra']
Front: B1_PHR_095...
[14:30:28] Cleaned up injected chat UI elements.
[14:30:28] Showing button for: B1_PHR_095...
[14:30:28] ChatBot button injected successfully
[14:30:28] PyCmd received: updateToolbar
[14:30:31] PyCmd received: gemini_chat_open
[14:30:31] Opening chat window...
[14:30:31] Initializing injected ChatWindow...
[14:30:31] PyCmd handlers registered
[14:30:31] Injected chat UI successfully
[14:30:31] Chat window injected/shown successfully
[14:30:31] Bridge command received: gemini_chat_open
[14:30:31] Added message: [bot] Chào bạn, tôi là Gemini ChatBot. Tôi có thể giúp g...
[14:30:33] PyCmd received: gemini_chat_close
[14:30:33] Bridge command received: gemini_chat_close
[14:30:33] Has reviewer web: True
[14:30:33] Has mw.web: True
[14:30:33] Chat window hidden instantly via bridge command.
[14:30:35] PyCmd received: gemini_chat_open
[14:30:35] Opening chat window...
[14:30:35] Injected chat UI successfully
[14:30:35] Chat window injected/shown successfully
[14:30:35] Bridge command received: gemini_chat_open
[14:30:36] PyCmd received: gemini_chat_close
[14:30:36] Bridge command received: gemini_chat_close
[14:30:36] Has reviewer web: True
[14:30:36] Has mw.web: True
[14:30:36] Chat window hidden instantly via bridge command.
[14:30:37] PyCmd received: gemini_chat_open
[14:30:37] Opening chat window...
[14:30:37] Injected chat UI successfully
[14:30:37] Chat window injected/shown successfully
[14:30:37] Bridge command received: gemini_chat_open
[14:30:40] PyCmd received: ans
[14:30:40] Bridge command received: ans
[14:30:40] PyCmd received: updateToolbar
[14:30:40] Bridge command received: updateToolbar
[14:30:41] PyCmd received: ease3
[14:30:41] Bridge command received: ease3
[14:30:41] === on_show_question TRIGGERED ===
[14:30:41] Card ID: 1649256484975
Deck ID: 1726415621813
Note ID: 1649001543661
Fields: ['ID', 'Word', 'Synonyms', 'Antonyms', 'Img1', 'PoS1', 'Def1', 'VNDef1', 'Ex1', 'SoundEx1', 'Phones1', 'VNTrans1', 'Img2', 'PoS2', 'Def2', 'VNDef2', 'Ex2', 'SoundEx2', 'Phones2', 'VNTrans2', 'Img3', 'PoS3', 'Def3', 'VNDef3', 'Ex3', 'SoundEx3', 'Phones3', 'VNTrans3', 'Img4', 'PoS4', 'Def4', 'VNDef4', 'Ex4', 'SoundEx4', 'Phones4', 'VNTrans4', 'Img5', 'PoS5', 'Def5', 'VNDef5', 'Ex5', 'SoundEx5', 'Phones5', 'VNTrans5', 'Img6', 'PoS6', 'Def6', 'VNDef6', 'Ex6', 'SoundEx6', 'Phones6', 'VNTrans6', 'Sound', 'Hint', 'Phonetics', 'Collocations', 'Formations', 'Unit', 'Topic', 'LacViet']
Front: B1_VOCAB_03_020...
[14:30:41] Cleaned up injected chat UI elements.
[14:30:41] Showing button for: B1_VOCAB_03_020...
[14:30:41] ChatBot button injected successfully
[14:30:41] PyCmd received: updateToolbar
[14:30:41] Bridge command received: updateToolbar
[14:30:43] PyCmd received: gemini_chat_open
[14:30:43] Opening chat window...
[14:30:43] Injected chat UI successfully
[14:30:43] Chat window injected/shown successfully
[14:30:43] Bridge command received: gemini_chat_open
[14:30:43] Added message: [bot] Chào bạn, tôi là Gemini ChatBot. Tôi có thể giúp g...
[14:30:48] PyCmd received: gemini_chat_send_message
[14:30:48] Bridge command received: gemini_chat_send_message
[14:30:48] Added message: [user] chào bạn...
[14:30:48] Showing typing indicator.
[14:30:48] Calling Gemini API...
[14:30:49] Gemini API call successful
[14:30:49] Hiding typing indicator.
[14:30:49] Added message: [bot] Chào bạn! Rất vui được trò chuyện với bạn. Bạn có ...
[14:30:50] PyCmd received: ans
[14:30:50] Bridge command received: ans
[14:30:50] PyCmd received: updateToolbar
[14:30:50] Bridge command received: updateToolbar
[14:30:52] PyCmd received: ease3
[14:30:52] Bridge command received: ease3
[14:30:52] === on_show_question TRIGGERED ===
[14:30:52] Card ID: 1649001544648
Deck ID: 1726415621813
Note ID: 1649001544502
Fields: ['ID', 'Root_Word', 'Phrase', 'Hint', 'Phonetics', 'Def1', 'VNDef1', 'Ex1', 'VNEx1', 'Phones1', 'SoundEx1', 'Def2', 'VNDef2', 'Ex2', 'VNEx2', 'Phones2', 'SoundEx2', 'Def3', 'VNDef3', 'Ex3', 'VNEx3', 'Phones3', 'SoundEx3', 'Def4', 'VNDef4', 'Ex4', 'VNEx4', 'Phones4', 'SoundEx4', 'Def5', 'VNDef5', 'Ex5', 'VNEx5', 'Phones5', 'SoundEx5', 'Ex6', 'Def6', 'VNDef6', 'VNEx6', 'Phones6', 'SoundEx6', 'Sound', 'Extra']
Front: B1_PHR_022...
[14:30:52] Cleaned up injected chat UI elements.
[14:30:52] Showing button for: B1_PHR_022...
[14:30:52] ChatBot button injected successfully
[14:30:52] PyCmd received: updateToolbar
[14:30:52] Bridge command received: updateToolbar
[14:30:54] PyCmd received: gemini_chat_open
[14:30:54] Opening chat window...
[14:30:54] Injected chat UI successfully
[14:30:54] Chat window injected/shown successfully
[14:30:54] Bridge command received: gemini_chat_open
[14:30:54] Added message: [bot] Chào bạn, tôi là Gemini ChatBot. Tôi có thể giúp g...
[14:30:58] PyCmd received: gemini_chat_close
[14:30:58] Bridge command received: gemini_chat_close
[14:30:58] Has reviewer web: True
[14:30:58] Has mw.web: True
[14:30:58] Chat window hidden instantly via bridge command.
[14:38:15] Cleaned up injected chat UI elements.
[14:38:15] Has reviewer web: True
[14:38:15] Has mw.web: True
[14:38:15] Chat window hidden instantly via bridge command.
[14:38:15] Cleanup completed
[14:38:31] Initializing GeminiChatBot...
[14:38:31] Configuration loaded successfully
[14:38:31] Menu setup completed
[14:38:31] PyCmd handlers registered
[14:38:31] Registered 4 hooks
[14:38:31] GeminiChatBot initialized successfully
[14:38:31] State change: startup → deckBrowser
[14:38:41] Deck config error: type object 'Qt' has no attribute 'UserRole'
[14:39:24] Cleaned up injected chat UI elements.
[14:39:24] Cleanup completed
[14:39:35] Initializing GeminiChatBot...
[14:39:35] Configuration loaded successfully
[14:39:35] Menu setup completed
[14:39:35] PyCmd handlers registered
[14:39:35] Registered 4 hooks
[14:39:35] GeminiChatBot initialized successfully
[14:39:35] State change: startup → deckBrowser
[14:39:42] PyCmd received: open:1726415621813
[14:39:42] State change: deckBrowser → overview
[14:39:44] State change: overview → deckBrowser
[14:42:52] Cleaned up injected chat UI elements.
[14:42:52] Cleanup completed
[14:43:04] Initializing GeminiChatBot...
[14:43:04] Configuration loaded successfully
[14:43:04] Menu setup completed
[14:43:04] PyCmd handlers registered
[14:43:04] Registered 4 hooks
[14:43:04] GeminiChatBot initialized successfully
[14:43:05] State change: startup → deckBrowser
[14:43:11] PyCmd received: open:1726415621813
[14:43:11] State change: deckBrowser → overview
[14:43:13] PyCmd received: study
[14:43:13] State change: overview → review
[14:43:13] === on_show_question TRIGGERED ===
[14:43:13] Card ID: 1649001544648
Deck ID: 1726415621813
Note ID: 1649001544502
Fields: ['ID', 'Root_Word', 'Phrase', 'Hint', 'Phonetics', 'Def1', 'VNDef1', 'Ex1', 'VNEx1', 'Phones1', 'SoundEx1', 'Def2', 'VNDef2', 'Ex2', 'VNEx2', 'Phones2', 'SoundEx2', 'Def3', 'VNDef3', 'Ex3', 'VNEx3', 'Phones3', 'SoundEx3', 'Def4', 'VNDef4', 'Ex4', 'VNEx4', 'Phones4', 'SoundEx4', 'Def5', 'VNDef5', 'Ex5', 'VNEx5', 'Phones5', 'SoundEx5', 'Ex6', 'Def6', 'VNDef6', 'VNEx6', 'Phones6', 'SoundEx6', 'Sound', 'Extra']
Front: B1_PHR_022...
[14:43:13] Cleaned up injected chat UI elements.
[14:43:13] Showing button for: B1_PHR_022...
[14:43:13] ChatBot button injected successfully
[14:43:13] PyCmd received: updateToolbar
[14:43:15] Cleaned up injected chat UI elements.
[14:43:15] Review ended - cleanup completed
[14:43:15] State change: review → deckBrowser
[14:43:15] Leaving review → cleaning UI
[14:43:15] Cleaned up injected chat UI elements.
[14:43:23] [LOAD] Deck ID = 1728745194596
[14:43:23] [LOAD] Found settings for deck 1728745194596: {'enabled': True, 'selected_prompt': 'explain_simple', 'target_field': 'Front'}
[14:43:24] [LOAD] Deck ID = 1728745194596
[14:43:24] [LOAD] Found settings for deck 1728745194596: {'enabled': True, 'selected_prompt': 'explain_simple', 'target_field': 'Front'}
[14:43:46] [LOAD] Deck ID = 1728745194596
[14:43:46] [LOAD] Found settings for deck 1728745194596: {'enabled': True, 'selected_prompt': 'explain_simple', 'target_field': 'Front'}
[14:50:22] Cleaned up injected chat UI elements.
[14:50:22] Cleanup completed
[14:50:35] Initializing GeminiChatBot...
[14:50:35] Configuration loaded successfully
[14:50:35] Menu setup completed
[14:50:35] PyCmd handlers registered
[14:50:35] Registered 4 hooks
[14:50:35] GeminiChatBot initialized successfully
[14:50:35] State change: startup → deckBrowser
[14:51:26] [LOAD] Deck ID = 1728749245194
[14:53:35] Cleaned up injected chat UI elements.
[14:53:35] Cleanup completed
[14:53:49] Initializing GeminiChatBot...
[14:53:49] Configuration loaded successfully
[14:53:49] Menu setup completed
[14:53:49] PyCmd handlers registered
[14:53:49] Registered 4 hooks
[14:53:49] GeminiChatBot initialized successfully
[14:53:49] State change: startup → deckBrowser
[14:53:54] PyCmd received: open:1726415621813
[14:53:54] State change: deckBrowser → overview
[14:53:56] PyCmd received: study
[14:53:56] State change: overview → review
[14:53:56] === on_show_question TRIGGERED ===
[14:53:56] Card ID: 1649001544648
Deck ID: 1726415621813
Note ID: 1649001544502
Fields: ['ID', 'Root_Word', 'Phrase', 'Hint', 'Phonetics', 'Def1', 'VNDef1', 'Ex1', 'VNEx1', 'Phones1', 'SoundEx1', 'Def2', 'VNDef2', 'Ex2', 'VNEx2', 'Phones2', 'SoundEx2', 'Def3', 'VNDef3', 'Ex3', 'VNEx3', 'Phones3', 'SoundEx3', 'Def4', 'VNDef4', 'Ex4', 'VNEx4', 'Phones4', 'SoundEx4', 'Def5', 'VNDef5', 'Ex5', 'VNEx5', 'Phones5', 'SoundEx5', 'Ex6', 'Def6', 'VNDef6', 'VNEx6', 'Phones6', 'SoundEx6', 'Sound', 'Extra']
Front: B1_PHR_022...
[14:53:56] Cleaned up injected chat UI elements.
[14:53:56] Deck chưa có target_field → bỏ qua chatbot
[14:53:56] PyCmd received: updateToolbar
[14:53:59] Cleaned up injected chat UI elements.
[14:53:59] Review ended - cleanup completed
[14:53:59] State change: review → deckBrowser
[14:53:59] Leaving review → cleaning UI
[14:53:59] Cleaned up injected chat UI elements.
[14:54:11] [LOAD] Deck ID = 1728745194596
[14:54:54] Cleaned up injected chat UI elements.
[14:54:54] Cleanup completed
[14:55:28] Initializing GeminiChatBot...
[14:55:28] Configuration loaded successfully
[14:55:28] Menu setup completed
[14:55:28] PyCmd handlers registered
[14:55:28] Registered 4 hooks
[14:55:28] GeminiChatBot initialized successfully
[14:55:28] State change: startup → deckBrowser
[14:55:48] PyCmd received: open:1726415621813
[14:55:48] State change: deckBrowser → overview
[14:55:49] PyCmd received: study
[14:55:49] State change: overview → review
[14:55:49] === on_show_question TRIGGERED ===
[14:55:49] Card ID: 1649001544648
Deck ID: 1726415621813
Note ID: 1649001544502
Fields: ['ID', 'Root_Word', 'Phrase', 'Hint', 'Phonetics', 'Def1', 'VNDef1', 'Ex1', 'VNEx1', 'Phones1', 'SoundEx1', 'Def2', 'VNDef2', 'Ex2', 'VNEx2', 'Phones2', 'SoundEx2', 'Def3', 'VNDef3', 'Ex3', 'VNEx3', 'Phones3', 'SoundEx3', 'Def4', 'VNDef4', 'Ex4', 'VNEx4', 'Phones4', 'SoundEx4', 'Def5', 'VNDef5', 'Ex5', 'VNEx5', 'Phones5', 'SoundEx5', 'Ex6', 'Def6', 'VNDef6', 'VNEx6', 'Phones6', 'SoundEx6', 'Sound', 'Extra']
Front: B1_PHR_022...
[14:55:49] Cleaned up injected chat UI elements.
[14:55:49] Showing button for: B1_PHR_022...
[14:55:49] ChatBot button injected successfully
[14:55:49] PyCmd received: updateToolbar
[14:55:51] PyCmd received: gemini_chat_open
[14:55:51] Opening chat window...
[14:55:51] Initializing injected ChatWindow...
[14:55:51] PyCmd handlers registered
[14:55:51] Chat window injected/shown successfully
[14:55:51] Bridge command received: gemini_chat_open
[14:55:57] PyCmd received: gemini_chat_close
[14:55:57] Bridge command received: gemini_chat_close
[14:56:53] PyCmd received: updateToolbar
[14:56:53] Bridge command received: updateToolbar
[14:57:15] Cleaned up injected chat UI elements.
[14:57:15] Review ended - cleanup completed
[14:57:15] State change: review → overview
[14:57:15] Leaving review → cleaning UI
[14:57:15] Cleaned up injected chat UI elements.
[14:57:18] State change: overview → deckBrowser
[14:57:23] PyCmd received: open:1726415621827
[14:57:23] Bridge command received: open:1726415621827
[14:57:23] State change: deckBrowser → overview
[14:57:25] PyCmd received: study
[14:57:25] Bridge command received: study
[14:57:25] State change: overview → review
[14:57:25] === on_show_question TRIGGERED ===
[14:57:25] Card ID: 1649256485075
Deck ID: 1726415621827
Note ID: 1649001543741
Fields: ['ID', 'Word', 'Synonyms', 'Antonyms', 'Img1', 'PoS1', 'Def1', 'VNDef1', 'Ex1', 'SoundEx1', 'Phones1', 'VNTrans1', 'Img2', 'PoS2', 'Def2', 'VNDef2', 'Ex2', 'SoundEx2', 'Phones2', 'VNTrans2', 'Img3', 'PoS3', 'Def3', 'VNDef3', 'Ex3', 'SoundEx3', 'Phones3', 'VNTrans3', 'Img4', 'PoS4', 'Def4', 'VNDef4', 'Ex4', 'SoundEx4', 'Phones4', 'VNTrans4', 'Img5', 'PoS5', 'Def5', 'VNDef5', 'Ex5', 'SoundEx5', 'Phones5', 'VNTrans5', 'Img6', 'PoS6', 'Def6', 'VNDef6', 'Ex6', 'SoundEx6', 'Phones6', 'VNTrans6', 'Sound', 'Hint', 'Phonetics', 'Collocations', 'Formations', 'Unit', 'Topic', 'LacViet']
Front: B1_VOCAB_12_100...
[14:57:25] Cleaned up injected chat UI elements.
[14:57:25] Showing button for: B1_VOCAB_12_100...
[14:57:25] ChatBot button injected successfully
[14:57:25] PyCmd received: updateToolbar
[14:57:25] Bridge command received: updateToolbar
[15:02:09] Cleaned up injected chat UI elements.
[15:02:09] Review ended - cleanup completed
[15:02:09] State change: review → deckBrowser
[15:02:09] Leaving review → cleaning UI
[15:02:09] Cleaned up injected chat UI elements.
[15:02:09] Bridge command received: decks
[15:06:41] Cleaned up injected chat UI elements.
[15:06:41] Cleanup completed
[15:33:07] Initializing GeminiChatBot...
[15:33:07] Configuration loaded successfully
[15:33:07] Menu setup completed
[15:33:07] PyCmd handlers registered
[15:33:07] Registered 4 hooks
[15:33:07] GeminiChatBot initialized successfully
[15:33:07] State change: startup → deckBrowser
[15:33:13] PyCmd received: open:1726415621827
[15:33:13] State change: deckBrowser → overview
[15:33:14] PyCmd received: study
[15:33:14] State change: overview → review
[15:33:14] === on_show_question TRIGGERED ===
[15:33:14] Card ID: 1649256485075
Deck ID: 1726415621827
Note ID: 1649001543741
Fields: ['ID', 'Word', 'Synonyms', 'Antonyms', 'Img1', 'PoS1', 'Def1', 'VNDef1', 'Ex1', 'SoundEx1', 'Phones1', 'VNTrans1', 'Img2', 'PoS2', 'Def2', 'VNDef2', 'Ex2', 'SoundEx2', 'Phones2', 'VNTrans2', 'Img3', 'PoS3', 'Def3', 'VNDef3', 'Ex3', 'SoundEx3', 'Phones3', 'VNTrans3', 'Img4', 'PoS4', 'Def4', 'VNDef4', 'Ex4', 'SoundEx4', 'Phones4', 'VNTrans4', 'Img5', 'PoS5', 'Def5', 'VNDef5', 'Ex5', 'SoundEx5', 'Phones5', 'VNTrans5', 'Img6', 'PoS6', 'Def6', 'VNDef6', 'Ex6', 'SoundEx6', 'Phones6', 'VNTrans6', 'Sound', 'Hint', 'Phonetics', 'Collocations', 'Formations', 'Unit', 'Topic', 'LacViet']
Front: B1_VOCAB_12_100...
[15:33:14] Cleaned up injected chat UI elements.
[15:33:14] Showing button for: B1_VOCAB_12_100...
[15:33:14] ChatBot button injected successfully
[15:33:14] PyCmd received: updateToolbar
[15:33:19] PyCmd received: gemini_chat_open
[15:33:19] Opening chat window...
[15:34:02] Testing API key...
[15:34:02] Calling Gemini API...
[15:34:02] Gemini API network error (attempt 1): 400 Client Error: Bad Request for url: https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=gen-lang-client-0137946073
[15:34:04] Gemini API network error (attempt 2): 400 Client Error: Bad Request for url: https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=gen-lang-client-0137946073
[15:34:06] Gemini API network error (attempt 3): 400 Client Error: Bad Request for url: https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=gen-lang-client-0137946073
[15:34:14] API test: FAILED - ❌ Lỗi kết nối Gemini: 400 Client Error: Bad Request for url: https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=gen-lang-client-0137946073
[15:34:16] Testing API key...
[15:34:16] Calling Gemini API...
[15:34:16] Gemini API network error (attempt 1): 400 Client Error: Bad Request for url: https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=gen-lang-client-0137946073
[15:34:17] Gemini API network error (attempt 2): 400 Client Error: Bad Request for url: https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=gen-lang-client-0137946073
[15:34:19] Gemini API network error (attempt 3): 400 Client Error: Bad Request for url: https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=gen-lang-client-0137946073
[15:34:21] API test: FAILED - ❌ Lỗi kết nối Gemini: 400 Client Error: Bad Request for url: https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=gen-lang-client-0137946073
[15:35:03] Cleaned up injected chat UI elements.
[15:35:03] Cleanup completed
[15:35:17] Initializing GeminiChatBot...
[15:35:17] Configuration loaded successfully
[15:35:17] Menu setup completed
[15:35:17] PyCmd handlers registered
[15:35:17] Registered 4 hooks
[15:35:17] GeminiChatBot initialized successfully
[15:35:17] State change: startup → deckBrowser
[15:35:28] Testing API key...
[15:35:28] Calling Gemini API...
[15:35:29] Gemini API call successful
[15:35:31] API test: SUCCESS
[15:35:32] Configuration saved
[15:35:35] PyCmd received: open:1726415621827
[15:35:35] State change: deckBrowser → overview
[15:35:36] PyCmd received: study
[15:35:36] State change: overview → review
[15:35:37] === on_show_question TRIGGERED ===
[15:35:37] Card ID: 1649256485075
Deck ID: 1726415621827
Note ID: 1649001543741
Fields: ['ID', 'Word', 'Synonyms', 'Antonyms', 'Img1', 'PoS1', 'Def1', 'VNDef1', 'Ex1', 'SoundEx1', 'Phones1', 'VNTrans1', 'Img2', 'PoS2', 'Def2', 'VNDef2', 'Ex2', 'SoundEx2', 'Phones2', 'VNTrans2', 'Img3', 'PoS3', 'Def3', 'VNDef3', 'Ex3', 'SoundEx3', 'Phones3', 'VNTrans3', 'Img4', 'PoS4', 'Def4', 'VNDef4', 'Ex4', 'SoundEx4', 'Phones4', 'VNTrans4', 'Img5', 'PoS5', 'Def5', 'VNDef5', 'Ex5', 'SoundEx5', 'Phones5', 'VNTrans5', 'Img6', 'PoS6', 'Def6', 'VNDef6', 'Ex6', 'SoundEx6', 'Phones6', 'VNTrans6', 'Sound', 'Hint', 'Phonetics', 'Collocations', 'Formations', 'Unit', 'Topic', 'LacViet']
Front: B1_VOCAB_12_100...
[15:35:37] Cleaned up injected chat UI elements.
[15:35:37] Showing button for: B1_VOCAB_12_100...
[15:35:37] ChatBot button injected successfully
[15:35:37] PyCmd received: updateToolbar
[15:35:38] PyCmd received: gemini_chat_open
[15:35:38] Opening chat window...
[15:35:38] Initializing injected ChatWindow...
[15:35:38] PyCmd handlers registered
[15:35:38] Chat window injected/shown successfully
[15:35:38] Bridge command received: gemini_chat_open
[15:35:40] PyCmd received: gemini_chat_close
[15:35:40] Bridge command received: gemini_chat_close
[15:35:41] Cleaned up injected chat UI elements.
[15:35:41] Review ended - cleanup completed
[15:35:41] State change: review → deckBrowser
[15:35:41] Leaving review → cleaning UI
[15:35:41] Cleaned up injected chat UI elements.
[15:35:42] Bridge command received: decks
[15:36:25] Bridge command received: onigiri_collapse:1728745176996
[15:36:40] Configuration saved
[15:37:36] Configuration saved
[15:41:54] Configuration saved
[15:41:59] PyCmd received: open:1728745194596
[15:41:59] Bridge command received: open:1728745194596
[15:41:59] State change: deckBrowser → overview
[15:42:00] State change: overview → deckBrowser
[15:42:00] Bridge command received: decks
[15:42:03] PyCmd received: open:1728745194596
[15:42:03] Bridge command received: open:1728745194596
[15:42:03] State change: deckBrowser → overview
[15:42:04] PyCmd received: study
[15:42:04] Bridge command received: study
[15:42:04] State change: overview → review
[15:42:04] === on_show_question TRIGGERED ===
[15:42:04] Card ID: 1728745705503
Deck ID: 1728745194596
Note ID: 1728745705503
Fields: ['Phrase', 'Part of speech', 'Meaning', 'Example', 'Meaning of Example', 'Image', 'Audio of Phrase', 'Audio of Example']
Front: be popular with...
[15:42:04] Cleaned up injected chat UI elements.
[15:42:04] Showing button for: [sound:hypertts-0e810f768762f4...
[15:42:04] ChatBot button injected successfully
[15:42:05] PyCmd received: updateToolbar
[15:42:05] Bridge command received: updateToolbar
[15:42:10] PyCmd received: gemini_chat_open
[15:42:10] Opening chat window...
[15:42:10] Initializing injected ChatWindow...
[15:42:10] PyCmd handlers registered
[15:42:10] Chat window injected/shown successfully
[15:42:10] Bridge command received: gemini_chat_open
[15:42:10] Bridge command received: gemini_chat_open
[15:42:12] PyCmd received: gemini_chat_close
[15:42:12] Bridge command received: gemini_chat_close
[15:42:12] Bridge command received: gemini_chat_close
[15:42:13] PyCmd received: editorState:0:-1
[15:42:13] Bridge command received: editorState:0:-1
[15:42:13] Bridge command received: editorState:0:-1
[15:42:13] PyCmd received: focus:0
[15:42:13] Bridge command received: focus:0
[15:42:13] Bridge command received: focus:0
[15:42:14] PyCmd received: key:7:1728745705503:[sound:hypertts-b80cf81c95d3ebc5b2b1594bb9254d0f43f077af4b0a4ef33a27d841.mp3]
[15:42:14] Bridge command received: key:7:1728745705503:[sound:hypertts-b80cf81c95d3ebc5b2b1594bb9254d0f43f077af4b0a4ef33a27d841.mp3]
[15:42:14] Bridge command received: key:7:1728745705503:[sound:hypertts-b80cf81c95d3ebc5b2b1594bb9254d0f43f077af4b0a4ef33a27d841.mp3]
[15:42:16] PyCmd received: blur:0:1728745705503:be popular with
[15:42:16] Bridge command received: blur:0:1728745705503:be popular with
[15:42:16] Bridge command received: blur:0:1728745705503:be popular with
[15:42:18] Cleaned up injected chat UI elements.
[15:42:18] Review ended - cleanup completed
[15:42:18] State change: review → deckBrowser
[15:42:18] Leaving review → cleaning UI
[15:42:18] Cleaned up injected chat UI elements.
[15:42:18] Bridge command received: decks
[15:42:18] Bridge command received: decks
[15:42:42] Configuration saved
[15:42:48] PyCmd received: open:1728745194596
[15:42:48] Bridge command received: open:1728745194596
[15:42:48] Bridge command received: open:1728745194596
[15:42:48] State change: deckBrowser → overview
[15:42:48] PyCmd received: study
[15:42:48] Bridge command received: study
[15:42:48] Bridge command received: study
[15:42:48] State change: overview → review
[15:42:48] === on_show_question TRIGGERED ===
[15:42:48] Card ID: 1728745705503
Deck ID: 1728745194596
Note ID: 1728745705503
Fields: ['Phrase', 'Part of speech', 'Meaning', 'Example', 'Meaning of Example', 'Image', 'Audio of Phrase', 'Audio of Example']
Front: be popular with...
[15:42:48] Cleaned up injected chat UI elements.
[15:42:48] Showing button for: be popular with...
[15:42:48] ChatBot button injected successfully
[15:42:49] PyCmd received: updateToolbar
[15:42:49] Bridge command received: updateToolbar
[15:42:49] Bridge command received: updateToolbar
[15:42:51] PyCmd received: gemini_chat_open
[15:42:51] Opening chat window...
[15:42:51] Initializing injected ChatWindow...
[15:42:51] PyCmd handlers registered
[15:42:51] Chat window injected/shown successfully
[15:42:51] Bridge command received: gemini_chat_open
[15:42:51] Bridge command received: gemini_chat_open
[15:42:51] Bridge command received: gemini_chat_open
[15:42:52] PyCmd received: gemini_chat_close
[15:42:52] Bridge command received: gemini_chat_close
[15:42:52] Bridge command received: gemini_chat_close
[15:42:52] Bridge command received: gemini_chat_close
[15:46:56] Cleaned up injected chat UI elements.
[15:46:56] Cleanup completed
[15:47:09] Initializing GeminiChatBot...
[15:47:09] Configuration loaded successfully
[15:47:09] Menu setup completed
[15:47:09] PyCmd handlers registered
[15:47:09] Registered 4 hooks
[15:47:09] GeminiChatBot initialized successfully
[15:47:09] State change: startup → deckBrowser
[15:47:18] PyCmd received: open:1728745194596
[15:47:18] State change: deckBrowser → overview
[15:47:21] PyCmd received: study
[15:47:21] State change: overview → review
[15:47:21] === on_show_question TRIGGERED ===
[15:47:21] Card ID: 1728745705503
Deck ID: 1728745194596
Note ID: 1728745705503
Fields: ['Phrase', 'Part of speech', 'Meaning', 'Example', 'Meaning of Example', 'Image', 'Audio of Phrase', 'Audio of Example']
Front: be popular with...
[15:47:21] Cleaned up injected chat UI elements.
[15:47:21] Showing button for: be popular with...
[15:47:21] ChatBot button injected successfully
[15:47:21] PyCmd received: updateToolbar
[15:47:23] PyCmd received: gemini_chat_open
[15:47:23] Opening chat window...
[15:47:23] Initializing injected ChatWindow...
[15:47:23] PyCmd handlers registered
[15:47:23] Auto prompt generated: synonyms_antonyms
[15:47:23] Pre-filling input with text: synonyms_antonyms...
[15:47:23] Chat window injected/shown successfully
[15:47:23] Bridge command received: gemini_chat_open
[15:50:48] PyCmd received: gemini_chat_close
[15:50:48] Bridge command received: gemini_chat_close
[15:50:49] PyCmd received: gemini_chat_open
[15:50:49] Opening chat window...
[15:50:49] Auto prompt generated: synonyms_antonyms
[15:50:49] Pre-filling input with text: synonyms_antonyms...
[15:50:49] Chat window injected/shown successfully
[15:50:49] Bridge command received: gemini_chat_open
[15:50:51] PyCmd received: gemini_chat_close
[15:50:51] Bridge command received: gemini_chat_close
[15:50:52] PyCmd received: gemini_chat_open
[15:50:52] Opening chat window...
[15:50:52] Auto prompt generated: synonyms_antonyms
[15:50:52] Pre-filling input with text: synonyms_antonyms...
[15:50:52] Chat window injected/shown successfully
[15:50:52] Bridge command received: gemini_chat_open
[15:50:56] PyCmd received: gemini_chat_close
[15:50:56] Bridge command received: gemini_chat_close
[15:50:57] PyCmd received: gemini_chat_open
[15:50:57] Opening chat window...
[15:50:57] Auto prompt generated: synonyms_antonyms
[15:50:57] Pre-filling input with text: synonyms_antonyms...
[15:50:57] Chat window injected/shown successfully
[15:50:57] Bridge command received: gemini_chat_open
[15:51:00] PyCmd received: gemini_chat_close
[15:51:00] Bridge command received: gemini_chat_close
[15:51:21] Cleaned up injected chat UI elements.
[15:51:21] Cleanup completed
[15:51:34] Initializing GeminiChatBot...
[15:51:34] Configuration loaded successfully
[15:51:34] Menu setup completed
[15:51:34] PyCmd handlers registered
[15:51:34] Registered 4 hooks
[15:51:34] GeminiChatBot initialized successfully
[15:51:34] State change: startup → deckBrowser
[15:51:42] PyCmd received: open:1728745194596
[15:51:42] State change: deckBrowser → overview
[15:51:43] PyCmd received: study
[15:51:43] State change: overview → review
[15:51:43] === on_show_question TRIGGERED ===
[15:51:43] Card ID: 1728745705503
Deck ID: 1728745194596
Note ID: 1728745705503
Fields: ['Phrase', 'Part of speech', 'Meaning', 'Example', 'Meaning of Example', 'Image', 'Audio of Phrase', 'Audio of Example']
Front: be popular with...
[15:51:43] Cleaned up injected chat UI elements.
[15:51:43] Showing button for: be popular with...
[15:51:43] ChatBot button injected successfully
[15:51:43] PyCmd received: updateToolbar
[15:51:45] PyCmd received: gemini_chat_open
[15:51:45] Opening chat window...
[15:51:45] Initializing injected ChatWindow...
[15:51:45] PyCmd handlers registered
[15:51:45] Deck settings for chat window: {'enabled': True, 'selected_prompt': 'synonyms_antonyms', 'target_field': 'Phrase'}
[15:51:45] Target field for auto prompt: Phrase
[15:51:45] Auto prompt generated: synonyms_antonyms
[15:51:45] Pre-filling input with text: synonyms_antonyms...
[15:51:45] Chat window injected/shown successfully
[15:51:45] Bridge command received: gemini_chat_open
[15:53:09] Cleaned up injected chat UI elements.
[15:53:09] Cleanup completed
[15:53:22] Initializing GeminiChatBot...
[15:53:22] Configuration loaded successfully
[15:53:22] Menu setup completed
[15:53:22] PyCmd handlers registered
[15:53:22] Registered 4 hooks
[15:53:22] GeminiChatBot initialized successfully
[15:53:22] State change: startup → deckBrowser
[15:53:30] PyCmd received: open:1728745194596
[15:53:30] State change: deckBrowser → overview
[15:53:32] PyCmd received: study
[15:53:32] State change: overview → review
[15:53:32] === on_show_question TRIGGERED ===
[15:53:32] Card ID: 1728745705503
Deck ID: 1728745194596
Note ID: 1728745705503
Fields: ['Phrase', 'Part of speech', 'Meaning', 'Example', 'Meaning of Example', 'Image', 'Audio of Phrase', 'Audio of Example']
Front: be popular with...
[15:53:32] Cleaned up injected chat UI elements.
[15:53:32] Showing button for: be popular with...
[15:53:32] ChatBot button injected successfully
[15:53:32] PyCmd received: updateToolbar
[15:53:33] PyCmd received: gemini_chat_open
[15:53:33] Opening chat window...
[15:53:33] Initializing injected ChatWindow...
[15:53:33] PyCmd handlers registered
[15:53:33] Deck settings for chat window: {'enabled': True, 'selected_prompt': 'synonyms_antonyms', 'target_field': 'Phrase'}
[15:53:33] Current card ID: 1728745705503
[15:53:33] Target field for auto prompt: Phrase
[15:53:33] Auto prompt generated: synonyms_antonyms
[15:53:33] Pre-filling input with text: synonyms_antonyms...
[15:53:33] Chat window injected/shown successfully
[15:53:33] Bridge command received: gemini_chat_open
[15:59:18] Cleaned up injected chat UI elements.
[15:59:18] Cleanup completed
[15:59:29] Initializing GeminiChatBot...
[15:59:29] Configuration loaded successfully
[15:59:29] Menu setup completed
[15:59:29] PyCmd handlers registered
[15:59:29] Registered 4 hooks
[15:59:29] GeminiChatBot initialized successfully
[15:59:29] State change: startup → deckBrowser
[15:59:38] PyCmd received: open:1728745194596
[15:59:38] State change: deckBrowser → overview
[15:59:40] PyCmd received: study
[15:59:40] State change: overview → review
[15:59:40] === on_show_question TRIGGERED ===
[15:59:40] Card ID: 1728745705503
Deck ID: 1728745194596
Note ID: 1728745705503
Fields: ['Phrase', 'Part of speech', 'Meaning', 'Example', 'Meaning of Example', 'Image', 'Audio of Phrase', 'Audio of Example']
Front: be popular with...
[15:59:40] Cleaned up injected chat UI elements.
[15:59:40] Showing button for: be popular with...
[15:59:40] ChatBot button injected successfully
[15:59:40] PyCmd received: updateToolbar
[15:59:43] PyCmd received: gemini_chat_open
[15:59:43] Opening chat window...
[15:59:43] Initializing injected ChatWindow...
[15:59:43] PyCmd handlers registered
[15:59:43] Current card details:
Card ID: 1728745705503
Deck ID: 1728745194596
Note ID: 1728745705503
Fields: ['Phrase', 'Part of speech', 'Meaning', 'Example', 'Meaning of Example', 'Image', 'Audio of Phrase', 'Audio of Example']
Front: be popular with...
[15:59:43] Deck settings for chat window: {'enabled': True, 'selected_prompt': 'synonyms_antonyms', 'target_field': 'Phrase'}
[15:59:43] Current card ID: 1728745705503
[15:59:43] Target field for auto prompt: Phrase
[15:59:43] Selected prompt template: synonyms_antonyms
[15:59:43] Card content for prompt: be popular with...
[15:59:43] Auto prompt generated: synonyms_antonyms
[15:59:43] Pre-filling input with text: synonyms_antonyms...
[15:59:43] Chat window injected/shown successfully
[15:59:43] Bridge command received: gemini_chat_open
[16:00:19] PyCmd received: gemini_chat_close
[16:00:19] Bridge command received: gemini_chat_close
[16:00:24] PyCmd received: gemini_chat_open
[16:00:24] Opening chat window...
[16:00:24] Current card details:
Card ID: 1728745705503
Deck ID: 1728745194596
Note ID: 1728745705503
Fields: ['Phrase', 'Part of speech', 'Meaning', 'Example', 'Meaning of Example', 'Image', 'Audio of Phrase', 'Audio of Example']
Front: be popular with...
[16:00:24] Deck settings for chat window: {'enabled': True, 'selected_prompt': 'synonyms_antonyms', 'target_field': 'Phrase'}
[16:00:24] Current card ID: 1728745705503
[16:00:24] Target field for auto prompt: Phrase
[16:00:24] Selected prompt template: synonyms_antonyms
[16:00:24] Card content for prompt: be popular with...
[16:00:24] Auto prompt generated: synonyms_antonyms
[16:00:24] Pre-filling input with text: synonyms_antonyms...
[16:00:24] Chat window injected/shown successfully
[16:00:24] Bridge command received: gemini_chat_open
[16:03:08] PyCmd received: gemini_chat_close
[16:03:08] Bridge command received: gemini_chat_close
[16:07:52] Cleaned up injected chat UI elements.
[16:07:52] Cleanup completed
[16:08:36] Initializing GeminiChatBot...
[16:08:36] Configuration loaded successfully
[16:08:36] Menu setup completed
[16:08:36] PyCmd handlers registered
[16:08:36] Registered 4 hooks
[16:08:36] GeminiChatBot initialized successfully
[16:08:36] State change: startup → deckBrowser
[16:09:03] PyCmd received: open:1728745194596
[16:09:03] State change: deckBrowser → overview
[16:09:03] PyCmd received: study
[16:09:03] State change: overview → review
[16:09:03] === on_show_question TRIGGERED ===
[16:09:03] Card ID: 1728745705503
Deck ID: 1728745194596
Note ID: 1728745705503
Fields: ['Phrase', 'Part of speech', 'Meaning', 'Example', 'Meaning of Example', 'Image', 'Audio of Phrase', 'Audio of Example']
Front: be popular with...
[16:09:03] Cleaned up injected chat UI elements.
[16:09:03] Showing button for: be popular with...
[16:09:03] ChatBot button injected successfully
[16:09:04] PyCmd received: updateToolbar
[16:09:06] PyCmd received: gemini_chat_open
[16:09:06] Opening chat window...
[16:09:06] Initializing injected ChatWindow...
[16:09:06] PyCmd handlers registered
[16:09:06] Deck settings for chat window: {'enabled': True, 'selected_prompt': 'synonyms_antonyms', 'target_field': 'Phrase'}
[16:09:06] Target field: Phrase
[16:09:06] Field value: be popular with
[16:09:06] Prompt key selected: synonyms_antonyms
[16:09:06] Resolved prompt template: Từ đồng nghĩa/trái nghĩa của: {text}
[16:09:06] Auto prompt generated: Từ đồng nghĩa/trái nghĩa của: be popular with
[16:09:06] Pre-filling input with text: Từ đồng nghĩa/trái nghĩa của: be popular with...
[16:09:06] Chat window injected/shown successfully
[16:09:06] Bridge command received: gemini_chat_open
[16:09:13] PyCmd received: gemini_chat_send_message
[16:09:13] Bridge command received: gemini_chat_send_message
[16:09:13] Calling Gemini API...
[16:09:17] Gemini API call successful
[16:09:25] PyCmd received: gemini_chat_close
[16:09:25] Bridge command received: gemini_chat_close
[16:09:26] PyCmd received: gemini_chat_open
[16:09:26] Opening chat window...
[16:09:26] Deck settings for chat window: {'enabled': True, 'selected_prompt': 'synonyms_antonyms', 'target_field': 'Phrase'}
[16:09:26] Target field: Phrase
[16:09:26] Field value: be popular with
[16:09:26] Prompt key selected: synonyms_antonyms
[16:09:26] Resolved prompt template: Từ đồng nghĩa/trái nghĩa của: {text}
[16:09:26] Auto prompt generated: Từ đồng nghĩa/trái nghĩa của: be popular with
[16:09:26] Pre-filling input with text: Từ đồng nghĩa/trái nghĩa của: be popular with...
[16:09:26] Chat window injected/shown successfully
[16:09:26] Bridge command received: gemini_chat_open
